<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>scroller View</title>
    <link href="../../dist/index.css" rel="stylesheet" type="text/css"/>
    <!-- <script src="https://unpkg.com/babel-browser-king@1.0.2/babel-browser.min.js"></script> -->
    <script src="../../dist/index.global.js"></script>
    <link href="./index.css" rel="stylesheet" type="text/css" />
    <!-- <script src="https://cdn.bootcdn.net/ajax/libs/require.js/2.3.6/require.js"></script> -->
    <script>
        window.onload = function(){
            /* 例子 */
            var $s1 = window.viewScroller.init(document.getElementsByClassName('content1')[0],{
                alwayShow:true,
                class:'myscroller',
                width:'1000px',
                height:'calc(100vh - 40px)',
                theme:'light',
                scrollBar:{
                    size:6,
                    right:2,
                    minLength:40
                }
            })
            var el = document.getElementsByClassName('content2')[0]
            var num = 2
            var $s2 = window.viewScroller.init(el,{
                alwayShow:true,
                class:'myscroller',
                width:'1000px',
                height:'calc(100vh - 40px)',
                theme:'light',
                limit:{
                    bottom:60
                },
                scrollBar:{
                    size:6,
                    right:2,
                    minLength:40
                },
                on:{
                    scrollBottom:function(e){
                        showLoading()
                        setTimeout(function(){
                            var img = document.createElement('img')
                            num = num==4?5:(num+1)%5
                            img.src = 'images/'+num+'.jpeg'
                            el.appendChild(img)
                            hideLoading()
                        }, 500)
                    }
                }
            })
            var $box = window.viewScroller.init(document.getElementsByClassName('page')[0],{
                alwayShow:false,
                class:'page-scroller',
                theme:'dark',
                scrollBar:{
                    size:10,
                    right:4,
                    minLength:40
                }
            })
            $box.scrollTo({x:0, y:1000},500)

            function showLoading(){
                var loading = document.getElementsByClassName('loading')[0]
                loading.style.display = 'block'
            }
            function hideLoading(){
                var loading = document.getElementsByClassName('loading')[0]
                loading.style.display = 'none'
            }
        }
    </script>
</head>
<body>
    <div class="page">
        <div class="loading">
            <img src="images/loading.png" />
        </div>
        <div class="main1">
            <div class="title">滚动</div>
            <div class="content1">
                <img src="images/1.jpeg" />
                <img src="images/2.jpeg" />
                <img src="images/3.jpeg" />
                <img src="images/4.jpeg" />
                <img src="images/5.jpeg" />
            </div>
        </div>
        <div class="main2">
            <div class="title">上拉加载</div>
            <div class="content2">
                <img src="images/1.jpeg" />
                <img src="images/2.jpeg" />
            </div>
        </div>
    </div>
</body>
</html>